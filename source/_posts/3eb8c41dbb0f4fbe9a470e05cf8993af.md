---
layout: post
title: 复制记录
abbrlink: 3eb8c41dbb0f4fbe9a470e05cf8993af
tags:
  - python
  - sqlalchemy
categories:
  - IT
  - 开发
  - Python
  - SQLAlchemy
date: 1631341446275
updated: 1757408262990
---

```python
from sqlalchemy.orm import class_mapper

old_record = db.session.query(模型类名).filter(xxxx).first()
new_record = 模型类名()
db.session.add(new_record)

column_names = [p.key for p in class_mapper(模型类名).iterate_properties]
for item in column_names:
    if item not in ['唯一索引', '字段1', '关系1']:
        setattr(new_record, item, getattr(old_record, item))

db.session.commit()
```

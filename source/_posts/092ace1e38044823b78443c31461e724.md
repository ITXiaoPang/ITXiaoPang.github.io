---
layout: post
title: Linux Cronjob 计划任务
abbrlink: 092ace1e38044823b78443c31461e724
tags:
  - cronjob
categories:
  - IT
  - OS
  - Linux
date: 1757847375186
updated: 1757847527888
---

## 简介

crontab命令的功能是在一定的时间间隔调度一些命令的执行。讲白了，就是计划任务。

在/etc下有个文件crontab，这里存放有系统运行的一些调度程序。而每个用户可以建立自己的调度crontab这些crontab将保存于/var/spool/cron下，可以通过命令crontab -e进行编辑。

直接用`vim /etc/crontab` 打开系统crontab，可以看到类似如下信息：

```text
SHELL=/bin/bash
PATH=/sbin:/bin:/usr/sbin:/usr/bin
MAILTO=root
HOME=/

# For details see man 4 crontabs

# Example of job definition:
# .—————- minute (0 – 59)
# | .————- hour (0 – 23)
# | | .———- day of month (1 – 31)
# | | | .——- month (1 – 12) OR jan,feb,mar,apr …
# | | | | .—- day of week (0 – 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat
# | | | | |
# * * * * * user-name command to be executed
```

## 字段解释

前5个字段分别表示：

分钟：0-59

小时：1-23

日期：1-31

月份：1-12

星期：0-6（0表示周日）

还可以用一些特殊符号：

\*： 表示任何时刻

,：　表示分割

－：表示一个时间段，如第二个字段中如果写成： 1-6，就表示1到6点。

/n : 表示每个n的单位执行一次，如第一个字段中，\*/30, 就表示每隔30分钟执行一次命令。

第六个字段是执行第七个字段命令的用户。

比如将crontab维护成了：

30 3 \* \* \* root yum -y upgrade && yum clean all

意思就是每天3点30分以root用户权限执行yum -y upgrade && yum clean all操作。

---
layout: post
title: Docker 多阶段构
abbrlink: 215af67b87294fc3a26ad279758fb333
tags:
  - docker
categories:
  - IT
  - 容器
  - Docker
date: 1631340742821
updated: 1757408565103
---

```Dockerfile
FROM python:3.6-alpine as base
FROM base as builder
RUN mkdir /install
WORKDIR /install
COPY requirements.txt /requirements.txt
RUN pip install --install-option="--prefix=/install" -r /requirements.txt

FROM base
COPY --from=builder /install /usr/local
COPY src /app
WORKDIR /app
CMD ["gunicorn", "-w 4", "main:app"]
```

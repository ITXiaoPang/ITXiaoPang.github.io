---
layout: post
title: Mac使用NUT连接Synology的UPS
abbrlink: cd3f08abf8104787b2dde428c79bd6ab
tags:
  - macos
  - synology
  - nut
  - ups
categories:
  - IT
  - 电源
date: 1663340111805
updated: 1758161627076
---

## 安装NUT

```bash
brew install nut
```

## 配置路径

```bash
cd /opt/homebrew/etc/nut
```

## 设置为客户端

```bash
cp -a nut.conf.sample nut.conf
vi nut.conf
```

## 增加一行

```
MODE=netclient
```

## 增加Synology的地址和用户名密码信息

```bash
cp -a upsmon.conf.sample upsmon.conf
vi upsmon.conf
```

## 增加一行

1. ups为名字
2. IP为Synology的IP地址
3. 1为固定值，多台UPS时设置比例用
4. monuser secret为Synology以下文件里的用户名和密码，默认不用改

```
/usr/syno/etc/ups/upsd.users
```

5. slave为断电立刻触发，master为最后一个触发

```
MONITOR ups@192.168.3.160 1 monuser secret slave
```

## 重启服务

```bash
brew services restart nut
```

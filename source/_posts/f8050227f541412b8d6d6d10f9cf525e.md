---
layout: post
title: 查找唯一索引包含，但字段本身允许为空的情况
abbrlink: f8050227f541412b8d6d6d10f9cf525e
tags: []
categories:
  - IT
  - 数据库
  - MySQL
date: 1767866815673
updated: 1767885755129
---

通过执行下面的语句实现：

```sql
SELECT
  kcu.TABLE_NAME,
  kcu.COLUMN_NAME,
  kcu.CONSTRAINT_NAME,
  tc.CONSTRAINT_TYPE,
  c.IS_NULLABLE
FROM
  INFORMATION_SCHEMA.KEY_COLUMN_USAGE kcu
  JOIN INFORMATION_SCHEMA.TABLE_CONSTRAINTS tc ON kcu.CONSTRAINT_NAME = tc.CONSTRAINT_NAME
  AND kcu.TABLE_SCHEMA = tc.TABLE_SCHEMA
  JOIN INFORMATION_SCHEMA.COLUMNS c ON kcu.TABLE_NAME = c.TABLE_NAME
  AND kcu.COLUMN_NAME = c.COLUMN_NAME
  AND kcu.TABLE_SCHEMA = c.TABLE_SCHEMA
WHERE
  tc.CONSTRAINT_TYPE = 'UNIQUE'
  AND kcu.TABLE_SCHEMA = DATABASE()
  AND c.IS_NULLABLE = 'YES'
ORDER BY
  kcu.TABLE_NAME,
  kcu.CONSTRAINT_NAME;
```
